pipeline {
    agent any
    parameters {
        string(name: 'NOMBRE', description:'Ingrese su nombre')
        string(name: 'APELLIDO', description:'Ingrese su apellido')
        choice(name: 'AREA', choices:['Contabilidad', 'Finanzas', 'Tecnologia'], description: 'Seleccione su area')
    }
    stages {
        stage('Creacion de grupos'){
            steps {
                sh "sudo groupadd Contabilidad"
                sh "sudo groupadd Finanzas"
                sh "sudo groupadd Tecnologia"
            }
        }
        stage('Creacion de usuario y asignacion de grupo') {
            steps {
                sh "sudo useradd -g ${params.AREA} ${params.NOMBRE}"
            }
        }
    } 
}